# API Gateway Environment Variables
# Copy this file to .env and update the values

# Service Configuration
SERVICE_NAME=API Gateway
SERVICE_VERSION=1.0.0
SERVICE_HOST=0.0.0.0
SERVICE_PORT=8000

# Environment
ENVIRONMENT=development
DEBUG=true

# Security - SHARED ACROSS ALL SERVICES
SECRET_KEY=your-very-secret-key-for-api-gateway
JWT_SECRET_KEY=your-shared-jwt-secret-key-for-all-services  # MUST BE SAME ACROSS ALL SERVICES
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_POOL_SIZE=10

# Database (if needed for API Gateway)
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/api_gateway_db
DATABASE_ECHO=false
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# External Services URLs
AUTH_SERVICE_URL=http://localhost:8001
USER_SERVICE_URL=http://localhost:8002
PRODUCT_SERVICE_URL=http://localhost:8003
ORDER_SERVICE_URL=http://localhost:8004
PAYMENT_SERVICE_URL=http://localhost:8005
NOTIFICATION_SERVICE_URL=http://localhost:8006
ANALYTICS_SERVICE_URL=http://localhost:8007

# API Gateway Specific Settings
GATEWAY_TIMEOUT=30
GATEWAY_CONNECT_TIMEOUT=5
GATEWAY_READ_TIMEOUT=25
GATEWAY_RATE_LIMIT_PER_MINUTE=200
GATEWAY_RATE_LIMIT_PER_USER=100

# Circuit Breaker Settings
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60

# Health Check Settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5

# Caching Settings
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# CORS Settings
ENABLE_CORS=true
CORS_ORIGINS=*
CORS_METHODS=*
CORS_HEADERS=*

# Authentication Paths
AUTH_REQUIRED_PATHS=/api/v1/users,/api/v1/orders,/api/v1/payments,/api/v1/notifications,/api/v1/analytics
PUBLIC_PATHS=/health,/metrics,/docs,/redoc,/openapi.json,/api/v1/auth/login,/api/v1/auth/register,/api/v1/auth/refresh,/api/v1/products

# Monitoring Settings
ENABLE_REQUEST_LOGGING=true
ENABLE_RESPONSE_LOGGING=false
ENABLE_PERFORMANCE_MONITORING=true

# Retry Settings
MAX_RETRIES=3
RETRY_DELAY=1.0
RETRY_BACKOFF_MULTIPLIER=2.0

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# API Documentation
API_PREFIX=/api/v1
DOCS_URL=/docs
REDOC_URL=/redoc
OPENAPI_URL=/openapi.json

# Health Check
HEALTH_CHECK_PATH=/health

# Metrics
METRICS_PATH=/metrics
ENABLE_METRICS=true

# Timeouts
REQUEST_TIMEOUT=30 